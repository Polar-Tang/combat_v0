local require = require(script.Parent.loader).load(script)
local WeaponBase = require("WeaponBase")
local AbilityBuilder = require("AbilityBuilder")
local WeaponInfo = require("WeaponInfo")
-- code smell here
local WeaponStats = WeaponInfo:getweapon("Fist")

local Fist = setmetatable({}, WeaponBase)
Fist.__index = Fist

function Fist.new(char, serviceBag)
	local self = WeaponBase.new(char, serviceBag, WeaponStats )
	return self
end


function Fist:_createAbilities()
	local attackData = WeaponStats["attacks"]
    -- attacks of type Attack and maybe Movement in the future
	self.attacks =
		AbilityBuilder.new(self.char, self._serviceBag)
			:Add(Enum.UserInputType.MouseButton1, "M1", {
				name = "Basic",
				type = "Attack",
				_cooldown = attackData.Basic.cooldown,
				damage = attackData.Basic.damage,
			})
			:Add(Enum.KeyCode.R, "Heavy", {
				name = "Heavy",
				type = "Attack",
				_cooldown = attackData.Heavy.cooldown,
				damage = attackData.Heavy.damage,
			})
			:Build()
	-- here goes the defence abilities

	self.char:GetAttributeChangedSignal("IsBlocking"):Connect(function()
	end)
	return self
end
return Fist
